var gradeError="GradeError",creditHourError="CreditHour",course1="class 1",course1GradeError=document.querySelector(".course1-grade"),course1CHError=document.querySelector(".course1-ch"),course1GradeEl=document.querySelector("#course1-grade"),course1CHEl=document.querySelector("#course1-ch"),course2="class 2",course2GradeError=document.querySelector(".course2-grade"),course2CHError=document.querySelector(".course2-ch"),course2GradeEl=document.querySelector("#course2-grade"),course2CHEl=document.querySelector("#course2-ch"),course3="class 3",course3GradeError=document.querySelector(".course3-grade"),course3CHError=document.querySelector(".course3-ch"),course3GradeEl=document.querySelector("#course3-grade"),course3CHEl=document.querySelector("#course3-ch"),course4="class 4",course4GradeError=document.querySelector(".course4-grade"),course4CHError=document.querySelector(".course4-ch"),course4GradeEl=document.querySelector("#course4-grade"),course4CHEl=document.querySelector("#course4-ch"),course5="class 5",course5GradeError=document.querySelector(".course5-grade"),course5CHError=document.querySelector(".course5-ch"),course5GradeEl=document.querySelector("#course5-grade"),course5CHEl=document.querySelector("#course5-ch"),course6="class 6",course6GradeError=document.querySelector(".course6-grade"),course6CHError=document.querySelector(".course6-ch"),course6GradeEl=document.querySelector("#course6-grade"),course6CHEl=document.querySelector("#course6-ch"),errorSpansMap=new Map;function newCourse(r,e){return new Course(r,e)}function Course(r,e){this.grade=r,this.creditHours=e}function courseHasData(r,e){var o=r[r.selectedIndex].value,t=e[e.selectedIndex].value;return"grade"!=o&&"Credit Hours"!=t}errorSpansMap.set(course1+gradeError,course1GradeError),errorSpansMap.set(course1+creditHourError,course1CHError),errorSpansMap.set(course2+gradeError,course2GradeError),errorSpansMap.set(course2+creditHourError,course2CHError),errorSpansMap.set(course3+gradeError,course3GradeError),errorSpansMap.set(course3+creditHourError,course3CHError),errorSpansMap.set(course4+gradeError,course4GradeError),errorSpansMap.set(course4+creditHourError,course4CHError),errorSpansMap.set(course5+gradeError,course5GradeError),errorSpansMap.set(course5+creditHourError,course5CHError),errorSpansMap.set(course6+gradeError,course6GradeError),errorSpansMap.set(course6+creditHourError,course6CHError),(helpLink=document.querySelector("#help")).addEventListener("click",onHelpClick);var getCourses=function(){return aggregateCourseData()},aggregateCourseData=function(){var r,e,o,t=[];return courseHasData(course1GradeEl,course1CHEl)&&(e=convertGrade(course1GradeEl),o=getCreditHours(course1CHEl),r=newCourse(e,creditHourToInteger.get(o)),t.push(r)),courseHasData(course2GradeEl,course2CHEl)&&(e=convertGrade(course2GradeEl),o=getCreditHours(course2CHEl),r=newCourse(e,creditHourToInteger.get(o)),t.push(r)),courseHasData(course3GradeEl,course3CHEl)&&(e=convertGrade(course3GradeEl),o=getCreditHours(course3CHEl),r=newCourse(e,creditHourToInteger.get(o)),t.push(r)),courseHasData(course4GradeEl,course4CHEl)&&(e=convertGrade(course4GradeEl),o=getCreditHours(course4CHEl),r=newCourse(e,creditHourToInteger.get(o)),t.push(r)),courseHasData(course5GradeEl,course5CHEl)&&(e=convertGrade(course5GradeEl),o=getCreditHours(course5CHEl),r=newCourse(e,creditHourToInteger.get(o)),t.push(r)),courseHasData(course6GradeEl,course6CHEl)&&(e=convertGrade(course6GradeEl),o=getCreditHours(course6CHEl),r=newCourse(e,creditHourToInteger.get(o)),t.push(r)),t};function convertGrade(r){var e=r[r.selectedIndex].value;return gradeToPointsTable.get(e)}function getCreditHours(r){return r[r.selectedIndex].value}var row1ChangeHandler=function(){validateCourseRow(course1,course1GradeEl,course1CHEl)},row2ChangeHandler=function(){validateCourseRow(course2,course2GradeEl,course2CHEl)},row3ChangeHandler=function(){validateCourseRow(course3,course3GradeEl,course3CHEl)},row4ChangeHandler=function(){validateCourseRow(course4,course4GradeEl,course4CHEl)},row5ChangeHandler=function(){validateCourseRow(course5,course5GradeEl,course5CHEl)},row6ChangeHanlder=function(){validateCourseRow(course6,course6GradeEl,course6CHEl)};function validateCourseRow(r,e,o){var t=e[e.selectedIndex].value,u=o[o.selectedIndex].value;if("Grade"!=t&&"Credit Hours"==u)errorSpansMap.get(r+creditHourError).innerHTML="Select credit hours",chSelectorError=!0;else if("Grade"==t&&"Credit Hours"!=u){gradeSelectorError=!0,errorSpansMap.get(r+gradeError).innerHTML="Select grade"}else{var a=errorSpansMap.get(r+creditHourError),c=errorSpansMap.get(r+gradeError);a.innerHTML="",c.innerHTML="",gradeSelectorError=!1,chSelectorError=!1}}var gpaError=!1,chError=!1,gradeSelectorError=!1,chSelectorError=!1,infoMessageEl=document.querySelector(".info-message"),calcButtonErrorEl=document.querySelector(".calc-button-error"),computedTermGPAElement=document.querySelector(".computed-term-gpa"),computedCumulativeGPA=document.querySelector(".computed-cumulative-gpa"),gpaInput=document.getElementById("currentGPA"),creditHoursInput=document.getElementById("currentCHTotal"),gpaErrorElement=document.querySelector(".gpa-error"),creditHourErrorEl=document.querySelector(".ch-error"),calculate=document.getElementById("calcButton"),onCalculateClick=function(){var r=document.querySelector(".gpa-hide");calcButtonErrorEl.innerHTML="",computedTermGPAElement.innerHTML="",computedCumulativeGPA.innerHTML="";var e=[];if(gpa=parseFloat(gpaInput.value),ch=parseInt(creditHoursInput.value),isNaN(gpa)||(gpa=formatGPA(gpaInput.value)),gpaError||chError||isNaN(gpa)||isNaN(ch)||gradeSelectorError||chSelectorError)gpaError&&chError?(calcButtonErrorEl.innerHTML="Oops! Please enter a valid GPA and total credits earned to date.",$("#calcButtonErrorModal").modal("show")):gpaError&&!chError?(calcButtonErrorEl.innerHTML="Oops! Please enter a valid GPA.",$("#calcButtonErrorModal").modal("show")):!gpaError&&chError?(calcButtonErrorEl.innerHTML="Oops! Please enter a positve whole number for total credits earned to date.",$("#calcButtonErrorModal").modal("show")):!chSelectorError&&gradeSelectorError?(calcButtonErrorEl.innerHTML="Oops! Please select a grade for your course(s).",$("#calcButtonErrorModal").modal("show")):chSelectorError&&!gradeSelectorError&&(calcButtonErrorEl.innerHTML="Oops! Please select the credit hours for your course(s).",$("#calcButtonErrorModal").modal("show"));else if((e=getCourses()).length>0){e.length=0;var o=getSemesterGPA(),t=getCumulativeGPA(gpa,ch);return r.style.visibility="visible",computedTermGPAElement.innerHTML=o,computedCumulativeGPA.innerHTML=t,void $("#gradeModal").modal("show")}if(!(gpaError||chError||gradeSelectorError||chSelectorError)){if(!((e=getCourses()).length>0))return infoMessageEl.innerHTML=helpMessageText,void $("#infoMessage").modal("show");e.length=0;var u=getSemesterGPA();computedTermGPAElement.innerHTML=u,r.style.visibility="collapse",$("#gradeModal").modal("show")}},helpMessageText="To get started: <br><br> &#8226; Select the grade you want (or expect) from the 'grade' drop down menu <br> &#8226; Select the number of credit/unit hours for that class from the 'credit hours' drop down menu<br> &#8226 Click 'Calculate GPA'<br><br> You can also enter in your current cumulative GPA (4.0-scale) and the number of credit/unit hours earned to date",onHelpClick=function(){infoMessageEl.innerHTML=helpMessageText,$("#infoMessage").modal("show")};function getSemesterGPA(){return calculateTermGPA(getCourses())}function getCumulativeGPA(r,e){return cumGPA=calculateCumulativeGPA(r,e),cumGPA}function calculateTermGPA(r){for(var e=0,o=0,t=0;t<r.length;t++){var u=r[t];e+=u.creditHours*u.grade,o+=u.creditHours}return formatGPA(e/o)}function calculateCumulativeGPA(r,e){var o=0,t=0,u=getCourses();o=r*e,t=e;for(var a=0;a<u.length;a++){var c=u[a];o+=c.creditHours*c.grade,t+=c.creditHours}return formatGPA(o/t)}var validateGPA=function(){/^([0-3](\.\d\d?\d?)?|4(.000?)?)$/.test(gpaInput.value)||""==gpaInput.value?(gpaError=!1,gpaErrorElement.innerHTML="",calcButtonErrorEl.innerHTML=""):(gpaError=!0,gpaErrorElement.innerHTML="Please input a valid GPA: 0.000 - 4.000")},validateCreditHours=function(){/^\d*[1-9]\d*$/.test(creditHoursInput.value)||""==creditHoursInput.value?(chError=!1,creditHourErrorEl.innerHTML="",calcButtonErrorEl.innerHTML=""):(chError=!0,creditHourErrorEl.innerHTML="Please enter a positive whole number.")};function formatGPA(r){return Number.parseFloat(r).toFixed(3)}gpaInput.onkeypress=function(r){13==r.keyCode&&r.preventDefault()},creditHoursInput.onkeypress=function(r){13==r.keyCode&&r.preventDefault()};var a="A",aMinus="A-",bPlus="B+",b="B",bMinus="B-",cPlus="C+",c="C",cMinus="C-",dPlus="D+",d="D",f="F",gradeToPointsTable=new Map;gradeToPointsTable.set(a,4),gradeToPointsTable.set(aMinus,3.7),gradeToPointsTable.set(bPlus,3.3),gradeToPointsTable.set(b,3),gradeToPointsTable.set(bMinus,2.7),gradeToPointsTable.set(cPlus,2.3),gradeToPointsTable.set(c,2),gradeToPointsTable.set(cMinus,1.7),gradeToPointsTable.set(dPlus,1.3),gradeToPointsTable.set(d,1),gradeToPointsTable.set(f,0);var helpLink,creditHourToInteger=new Map;creditHourToInteger.set("5",5),creditHourToInteger.set("4",4),creditHourToInteger.set("3",3),creditHourToInteger.set("2",2),creditHourToInteger.set("1",1),course1GradeEl.addEventListener("input",row1ChangeHandler),course1CHEl.addEventListener("input",row1ChangeHandler),course2GradeEl.addEventListener("input",row2ChangeHandler),course2CHEl.addEventListener("input",row2ChangeHandler),course3GradeEl.addEventListener("input",row3ChangeHandler),course3CHEl.addEventListener("input",row3ChangeHandler),course4GradeEl.addEventListener("input",row4ChangeHandler),course4CHEl.addEventListener("input",row4ChangeHandler),course5GradeEl.addEventListener("input",row5ChangeHandler),course5CHEl.addEventListener("input",row5ChangeHandler),course6GradeEl.addEventListener("input",row6ChangeHanlder),course6CHEl.addEventListener("input",row6ChangeHanlder),gpaInput.addEventListener("input",validateGPA),creditHoursInput.addEventListener("input",validateCreditHours),(helpLink=document.querySelector("#help")).addEventListener("click",onHelpClick),calculate.addEventListener("click",onCalculateClick),$(function(){$('[data-toggle="tooltip"').tooltip()});